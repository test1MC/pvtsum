<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="8" MadCap:lastHeight="550" MadCap:lastWidth="510" MadCap:ignoredWords="E1;E9;V1;V9;N1;N9;G1;G9;G0;att;E2;bzw;ErhLinieName;E3;max;E5;E7;E8;V2;N2;V3;N3;NachlaufLRName;evtl;inkl;V5;N5;V6;N6;V4;N4;con;wege;RZ;UH;Wid;konst;ca;Registrierungs;Common;Misc;ProcessorInfo;angeb;empf;Abfahrts;t0;Nr;ErhFzpName;VorlaufVSysCode;VorlaufLinieName;VorlaufRichtungsCode;VorlaufLRName;VorlaufFZPName;NachlaufVSysCode;EingabeHstNr;EingabeHstAbfahrtstag;EingabeHstAbfahrtszeit;QHstNr;VorlaufHstNr;EinHstNr;AusHstNr;NachlaufHstNr;ZHstNr;AnzPassagiere;ExtHochFak;BUS1;EingabeHStNr;WID;rechenzeit;etc;Exp;interval;ATI;service;frequency;SF;4h;1h" MadCap:fileTags="MyStatusFileTagSet.DO NOT TRANSLATE">
    <head>
        <link href="../Resources/TableStyles/TipHint1.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../Resources/TableStyles/gui_elements2.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../Resources/Stylesheets/PTV_Standard.css" rel="stylesheet" />
    </head>
    <body>
        <h2 MadCap:autonum=" 0.1 ">
            <a name="2_einstellungen_benutzermodell_oev_2589728191_1083319">
            </a>
            <a name="2_einstellungen_benutzermodell_oev_2589728191_13039">
            </a>Taktfahrtengruppen ermitteln<a name="25122"></a></h2>
        <p class="Text">
            <MadCap:keyword term="Taktfahrtengruppen: ermitteln" />Sie können während des Verfahrensablaufs Taktfahrtengruppen ermitteln <MadCap:xref class="sieheUeberschrSeite" href="#2_einstellungen_benutzermodell_oev_2589728191_1128005"><span style="color: Black;" class="mcFormatColor">(</span><u>Algorithmus zur Berechnung der Taktfahrtengruppen</u><span style="color: Black;" class="mcFormatColor">)</span></MadCap:xref>.</p>
        <p class="Text">Eine Taktfahrtengruppe muss folgende Kriterien erfüllen:</p>
        <ul>
            <LI class="List0">Eine Taktfahrtengruppe kann nur auf der Basis eines Fahrzeitprofils gebildet werden (außer im schematischen Liniennetzplan)</LI>
            <LI class="List0">Die Taktfahrtengruppe besteht aus mindestens vier Fahrplanfahrten.</LI>
            <LI class="List0">Die (gegebenenfalls virtuellen) Abfahrten der Fahrplanfahrten am Starthaltepunkt des Fahrzeitprofils haben ein wiederkehrendes Muster, das kleiner als vier Stunden ist.</LI>
        </ul>
        <p class="Text">Alle anderen Fahrplanfahrtattribute sind bedeutungslos, insbesondere werden folgende Eigenschaften nicht berücksichtigt:</p>
        <ul>
            <LI class="List0">Fahrplanfahrtabschnitte der Fahrplanfahrten, das heißt die Anzahl Abschnitte, deren Verkehrstag, Fahrzeugkombination etc.</LI>
            <LI class="List0">Betreiber</LI>
        </ul>
        <p class="Text">Eine Konsistenzprüfung des Attributs findet nicht statt, sodass Fahrplanfahrten verschiedener Fahrzeitprofile die gleiche Taktfahrtengruppennummer haben können. Bei der Anzeige im tabellarischen Fahrplan werden später nur Fahrplanfahrten innerhalb eines Fahrzeitprofils gruppiert.</p>
        <p class="Tabledist">
        </p>
        <p class="StepFirst" MadCap:autonum="1. &#160;">Klicken Sie in der Symbolleiste auf das Symbol <img src="../Resources/Images_4_all/ICO_procedure_flow.png" style="margin-left: 1, 000063px;margin-top: 1, 000063px;margin-right: 1, 000347px;margin-bottom: 0, 9983615px;" /> <span class="gui_element">Verfahrensablauf öffnen</span>.</p>
        <p class="Stepresult">Das Fenster <span class="gui_element">Verfahrensablauf</span> öffnet sich.</p>
        <p class="Step" MadCap:autonum="2. &#160;">Fügen Sie an der gewünschten Stelle im Verfahrensablauf das Verfahren <span class="gui_element">Taktfahrtengruppen ermitteln</span> aus der Kategorie <span class="gui_element">ÖV-Auswertungen</span> ein <MadCap:xref class="sieheUeberschrSeite" href="../2_Verfahrensablauf_festlegen/2_4_Verfahrensablauf festlegen und starten.htm#2_verfahrensablauf_festlegen_40480990_1019020"><span style="color: Black;" class="mcFormatColor">(</span><u>Verfahrensablauf festlegen und starten</u><span style="color: Black;" class="mcFormatColor">)</span></MadCap:xref>.</p>
        <p class="Step" MadCap:autonum="3. &#160;">Stellen Sie sicher, dass das eingefügte Verfahren markiert ist, und klicken Sie im Bereich <span class="gui_element">Aktionen</span> auf <span class="gui_element">Bearbeiten</span>.</p>
        <p class="Stepresult">Das Fenster <span class="gui_element">Parameter Taktfahrtengruppen ermitteln</span> öffnet sich.</p>
        <p class="Step" MadCap:autonum="4. &#160;">
            <MadCap:snippetText src="../Resources/Snippets/A_STEP_Nehmen_Sie_gew_Einst_PKT.flsnp" />
        </p>
        <table class="TableStyle-gui_elements2" style="width: 476px;caption-side: top;mc-table-style: url('../Resources/TableStyles/gui_elements2.css');" cellspacing="0">
            <col width="113px" class="TableStyle-gui_elements2-Column-Column1" />
            <col width="363px" class="TableStyle-gui_elements2-Column-Column1" />
            <thead>
                <tr class="TableStyle-gui_elements2-Head-Header1">
                    <td class="TableStyle-gui_elements2-HeadE-Column1-Header1">
                        <p class="CellCaption">Element</p>
                    </td>
                    <td class="TableStyle-gui_elements2-HeadD-Column1-Header1">
                        <p class="CellCaption">Beschreibung</p>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-gui_elements2-Body-Body1">
                    <td class="TableStyle-gui_elements2-BodyE-Column1-Body1">
                        <p class="CellText">
                            <span class="gui_element">Nur für aktive Fahrzeitprofile berechnen</span>
                        </p>
                    </td>
                    <td class="TableStyle-gui_elements2-BodyD-Column1-Body1">
                        <p class="CellText">Ist die Option ausgewählt, werden nur für aktive Fahrzeitprofile Taktfahrtengruppen ermittelt.</p>
                    </td>
                </tr>
                <tr class="TableStyle-gui_elements2-Body-Body2">
                    <td class="TableStyle-gui_elements2-BodyE-Column1-Body2">
                        <p class="CellText">
                            <span class="gui_element">Nur für aktive Fahrplanfahrten berechnen</span>
                        </p>
                    </td>
                    <td class="TableStyle-gui_elements2-BodyD-Column1-Body2">
                        <p class="CellText">Ist die Option ausgewählt, werden nur für aktive Fahrplanfahrten Taktfahrtengruppen ermittelt.</p>
                    </td>
                </tr>
                <tr class="TableStyle-gui_elements2-Body-Body1">
                    <td class="TableStyle-gui_elements2-BodyE-Column1-Body1">
                        <p class="CellText">
                            <span class="gui_element">Räumliche Fahrtausdehnung beachten</span>
                        </p>
                    </td>
                    <td class="TableStyle-gui_elements2-BodyD-Column1-Body1">
                        <p class="CellText">Ist die Option ausgewählt, werden nur Fahrplanfahrten mit identischem Start- und Endhalt zu einem Taktmuster zusammengefasst.</p>
                    </td>
                </tr>
                <tr class="TableStyle-gui_elements2-Body-Body2">
                    <td class="TableStyle-gui_elements2-BodyE-Column1-Body2">
                        <p class="CellText">
                            <span class="gui_element">Ziel des Verfahrens</span>
                        </p>
                    </td>
                    <td class="TableStyle-gui_elements2-BodyD-Column1-Body2">
                        <p class="CellText">
                            <span class="gui_element">Anzahl Fahrplanfahrten in Taktmuster maximieren</span>
                        </p>
                        <p class="CellText">Ist die Option ausgewählt, werden Takte mit der jeweils größten Anzahl Fahrplanfahrten als Taktmuster abgebildet. </p>
                        <p class="CellText">Hinweise</p>
                        <p class="CellText">Neben konstanten Abständen von Fahrplanfahrten sind auch wechselnde Taktmuster erlaubt. Jede Zeitdifferenz darf mehrfach vorkommen (beispielsweise Taktmuster 6/7/7).</p>
                        <p class="CellText">
                            <span class="gui_element">Zeitliche Ausdehnung der Taktmuster maximieren</span>
                        </p>
                        <p>Ist die Option ausgewählt, werden Takte, die sich über den jeweils längsten Zeitraum erstrecken, als Taktmuster abgebildet.</p>
                    </td>
                </tr>
                <tr class="TableStyle-gui_elements2-Body-Body1">
                    <td class="TableStyle-gui_elements2-BodyB-Column1-Body1">
                        <p class="CellText">
                            <span class="gui_element">Basistakt</span>
                        </p>
                    </td>
                    <td class="TableStyle-gui_elements2-BodyA-Column1-Body1">
                        <p class="CellText">
                            <span class="gui_element">Ermittlung von Taktfahrtengruppen mit beliebigen Takten</span>
                        </p>
                        <p class="CellText">Ist die Option ausgewählt, werden Fahrplanfahrten mit gleichen Zeitdifferenzen zu Taktfahrtengruppen zusammengefasst. Die Zeitdifferenzen können sich von Taktgruppe zu Taktgruppe unterscheiden.</p>
                        <p class="CellText">Hinweis</p>
                        <p class="CellText">Die Option ist nur verfügbar, wenn die Option <span class="gui_element">Anzahl Fahrplanfahrten in Taktmuster maximieren</span> ausgewählt ist.</p>
                        <p class="CellText">
                            <span class="gui_element">Nur gebrochene Vielfache des Basistakts sind als Takt für eine Taktfahrtengruppe zulässig</span>
                        </p>
                        <p class="CellText">Ist die Option ausgewählt, können Sie einen Basistakt festlegen, der die möglichen Taktfahrtengruppen einschränkt. Die Zeitdifferenz zwischen den Fahrplanfahrten in einer Taktfahrgruppe muss ein Vielfaches des Basistakts sein oder ein Vielfaches der Hälfte, des Drittels, des Viertels des Basistakts.</p>
                        <p class="CellText">Beispiel</p>
                        <p class="CellText">Geben Sie einen Basistakt von 30 min an, sind beispielsweise die folgenden Taktfahrtengruppen möglich:</p>
                        <ul>
                            <LI class="List0Tab">90 min ist Vielfaches von 30/1</LI>
                            <LI class="List0Tab">45 min  ist Vielfaches von 30/2</LI>
                            <LI class="List0Tab">20 min ist Vielfaches von 30/3</LI>
                            <LI class="List0Tab">22,5 min ist Vielfaches von 30/4</LI>
                        </ul>
                        <p class="CellText">Hinweise</p>
                        <p class="CellText">Die Option ist nur verfügbar, wenn die Option <span class="gui_element">Anzahl Fahrplanfahrten in Taktmuster maximieren</span> ausgewählt ist.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="Step" MadCap:autonum="5. &#160;">
            <MadCap:snippetText src="../Resources/Snippets/A_STEP_Best_Sie_m_OK.flsnp" />
        </p>
        <p class="Step" MadCap:autonum="6. &#160;">Führen Sie das Verfahren aus <MadCap:xref class="sieheUeberschrSeite" href="../2_Verfahrensablauf_festlegen/2_4_Verfahren im Verfahrensablauf ausführen.htm#2_verfahrensablauf_festlegen_40480990_1112524"><span style="color: Black;" class="mcFormatColor">(</span><u>Verfahren im Verfahrensablauf ausführen</u><span style="color: Black;" class="mcFormatColor">)</span></MadCap:xref>.</p>
        <p class="Result">Die Taktfahrtengruppen werden ermittelt. Die Ergebnisse werden in das Fahrplanfahrtattribut <span class="gui_element">Taktfahrtengruppen-Nummer</span> geschrieben.</p>
        <p class="Tabledist">
        </p>
        <table class="TableStyle-TipHint1" style="width: 495px;caption-side: top;mc-table-style: url('../Resources/TableStyles/TipHint1.css');" cellspacing="0">
            <col width="495px" class="TableStyle-TipHint1-Column-Column1" />
            <tbody>
                <tr class="TableStyle-TipHint1-Body-Body1">
                    <td class="TableStyle-TipHint1-BodyA-Column1-Body1">
                        <p class="Hint" MadCap:autonum="Hinweis: ">Die Ergebnisse können Sie als Liste oder im tabellarischen Fahrplan anzeigen <MadCap:xref class="sieheUeberschrSeite" href="../2_Netz_bearbeiten/Taktfahrten_bearbeiten.htm#2_netz_bearbeiten_23091886_1360577"><span style="color: Black;" class="mcFormatColor">(</span><u>Taktfahrten bearbeiten</u><span style="color: Black;" class="mcFormatColor">)</span></MadCap:xref>. Sie können die Taktfahrtengruppen auch nachträglich bearbeiten <MadCap:xref class="sieheUeberschrSeite" href="../2_Netz_bearbeiten/Taktfahrten_bearbeiten.htm#2_netz_bearbeiten_23091886_1360577"><span style="color: Black;" class="mcFormatColor">(</span><u>Taktfahrten bearbeiten</u><span style="color: Black;" class="mcFormatColor">)</span></MadCap:xref>.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h5 MadCap:autonum="">
            <a name="2_einstellungen_benutzermodell_oev_2589728191_1128005">
            </a>
            <a name="2_einstellungen_benutzermodell_oev_2589728191_71418">
            </a>Algorithmus zur Berechnung der Taktfahrtengruppen</h5>
        <p class="Text">Der Algorithmus betrachtet die aktiven Fahrplanfahrten jedes Fahrzeitprofils getrennt, da keine Fahrplanfahrten unterschiedlicher Fahrzeitprofile zusammengefasst werden können.</p>
        <p class="Text">Zu Beginn wird das Attribut <span class="gui_element">TaktfahrtGrpNr</span> aller Fahrplanfahrten auf null zurückgesetzt. Danach werden für identifizierte Taktfahrtengruppen sukzessive die <span class="gui_element">TaktfahrtGrpNr</span> 1, 2, ... vergeben, bis alle Fahrzeitprofile abgearbeitet sind.</p>
        <p class="Text">Der Algorithmus läuft nach den folgenden Schritten ab:</p>
        <table class="TableStyle-TipHint1" style="width: 496px;caption-side: top;mc-table-style: url('../Resources/TableStyles/TipHint1.css');" cellspacing="0">
            <col width="496px" class="TableStyle-TipHint1-Column-Column1" />
            <tbody>
                <tr class="TableStyle-TipHint1-Body-Body1">
                    <td class="TableStyle-TipHint1-BodyA-Column1-Body1">
                        <p class="Hint" MadCap:autonum="Hinweis: ">Wenn Sie die Option <span class="gui_element">Anzahl Fahrplanfahrten im Taktmuster maximieren</span> im Fenster <span class="gui_element" style="font-style: italic;">Parameter Taktfahrtengruppen ermitteln</span> wählen, läuft der Algorithmus abweichend ab. Im Anschluss wird der abweichende Algorithmus beschrieben.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="StepFirst" MadCap:autonum="1. &#160;">Zu allen <span class="formula">N</span> Fahrplanfahrten eines Fahrzeitprofils wird ihre (gegebenenfalls virtuelle) Abfahrt am Start des Fahrzeitprofils ermittelt.</p>
        <p class="Step" MadCap:autonum="2. &#160;">Die Fahrplanfahrten werden gemäß dieser Abfahrtszeit sortiert.</p>
        <p class="Step" MadCap:autonum="3. &#160;">Die (maximal) <span class="formula">m = N • </span>(<span class="formula">N - </span>1) / 2 auftretenden Differenzen zwischen diesen Abfahrtszeiten werden ermittelt. In der Regel ist <span class="formula">m</span> viel kleiner, weil die Fahrplanfahrten bereits getaktet vorliegen. Die so entstehende Menge <span class="formula">M</span> der verschiedenen Differenzen wird aufsteigend sortiert.</p>
        <p class="Step" MadCap:autonum="4. &#160;">Für jede Differenz <span class="formula">d</span> in <span class="formula">M</span> wird geprüft, welche maximale Taktfahrtengruppe <span class="formula">G(d)</span> aus den vorliegenden Fahrplanfahrten im Takt <span class="formula">d</span> gebildet werden kann. Maximal bedeutet: den längsten Zeitraum überdeckend, also mit größtem Zeitabstand zwischen erster und letzter zugehöriger Fahrplanfahrt.</p>
        <p class="Step" MadCap:autonum="5. &#160;">Nachdem für jede Differenz <span class="formula">d</span> eine maximale Taktfahrtengruppen <span class="formula">G(d)</span> ermittelt wurde, wird unter allen Gruppen die Gruppe <span class="formula">g</span> ausgewählt, die den längsten Zeitraum überdeckt. Falls mehrere Gruppen den gleichen Zeitraum überdecken, wird daraus die Gruppe gewählt, die die größere Anzahl Fahrplanfahrten enthält.</p>
        <p class="Text2">Die zweite Regel bewirkt, dass zum Beispiel bei perfekt getakteten Fahrplanfahrten im 1h-Abstand zwischen 6 und 22 Uhr nicht etwa ein 4h-Takt mit 5 Fahrplanfahrten, sondern ein 1h-Takt mit 17 Fahrplanfahrten gefunden wird.</p>
        <p class="Text2">Sollten mehr als ein Takt mit gleichem (größten) überdeckten Zeitraum und gleicher Anzahl von Fahrplanfahrten innerhalb eines Fahrzeitprofils gefunden werden, so wird zuerst die Gruppe mit der zeitlich frühesten Fahrplanfahrt zusammengefasst.</p>
        <p class="Step" MadCap:autonum="6. &#160;">Die Fahrplanfahrten der gewählten Gruppe erhalten als Taktfahrtengruppennummer die nächste freie Zahl. Die Fahrplanfahrten werden aus der Menge aller betrachteten Fahrplanfahrten entfernt.</p>
        <p class="Step" MadCap:autonum="7. &#160;">Der Algorithmus wird mit der Menge der restlichen Fahrplanfahrten eines Fahrzeitprofils so lange wiederholt, bis keine weitere Taktfahrtengruppe generiert werden kann.</p>
        <p class="Text">Wenn Sie die Einstellung <span class="gui_element">Anzahl Fahrplanfahrten im Taktmuster maximieren</span> im Fenster <span class="gui_element">Parameter Taktfahrtengruppen ermitteln</span> wählen, läuft der Algorithmus abweichend ab:</p>
        <p class="StepFirst" MadCap:autonum="1. &#160;">Zu allen <span class="formula">N</span> Fahrplanfahrten eines Fahrzeitprofils wird ihre (gegebenenfalls virtuelle) Abfahrt am Start des Fahrzeitprofils ermittelt.</p>
        <p class="Step" MadCap:autonum="2. &#160;">Die Fahrplanfahrten werden gemäß dieser Abfahrtszeit sortiert.</p>
        <p class="Step" MadCap:autonum="3. &#160;">Die (maximal) <span class="formula">m = N • </span>(<span class="formula">N - </span>1) / 2 auftretenden Differenzen zwischen diesen Abfahrtszeiten werden ermittelt. In der Regel ist <span class="formula">m</span> viel kleiner, weil die Fahrplanfahrten bereits getaktet vorliegen. Die so entstehende Menge <span class="formula">M </span>der verschiedenen Differenzen wird aufsteigend sortiert.</p>
        <p class="Step" MadCap:autonum="4. &#160;">Für jede Differenz <span class="formula">d</span>, beginnend mit der kleinsten, wird geprüft, ob es Gruppen mit überlappender zeitlicher Ausdehnung gibt, sodass sich die Differenzen der ersten Abfahrten zur betrachteten Differenz <span class="formula">d</span> addieren. Solche Kombinationen werden gesucht.</p>
        <p class="Step" MadCap:autonum="5. &#160;">Unter allen solchen Kombinationen von Gruppen wird diejenige gewählt, bei der eine Vereinigung der Gruppen zu einer Gruppe mit den meisten Fahrten wird. Diese Gruppen werden zusammengefasst.</p>
        <p class="Step" MadCap:autonum="6. &#160;">Bei der Zusammenfassung werden überzählige Fahrten erneut nach Möglichkeit zu Taktfahrtengruppen zusammengefasst. </p>
        <p class="Step" MadCap:autonum="7. &#160;">Diese Schritte werden wiederholt bis keine Gruppen mehr zusammengefasst werden können.</p>
        <p class="Step" MadCap:autonum="8. &#160;">Die Fahrplanfahrten der gewählten Gruppe erhalten als Taktfahrtengruppennummer die nächste freie Zahl. Die Fahrplanfahrten werden aus der Menge aller betrachteten Fahrplanfahrten entfernt.</p>
        <p class="Step" MadCap:autonum="9. &#160;">Der Algorithmus wird mit der Menge der restlichen Fahrplanfahrten eines Fahrzeitprofils so lange wiederholt, bis keine weitere Taktfahrtengruppe generiert werden kann.</p>
    </body>
</html>